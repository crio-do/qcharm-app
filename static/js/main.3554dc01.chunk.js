(this.webpackJsonpqcharm=this.webpackJsonpqcharm||[]).push([[0],{55:function(e,t,n){e.exports=n(73)},60:function(e,t,n){},62:function(e,t,n){},68:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(23),o=n.n(s),i=(n(60),n(61),n(62),n(2)),c=n.n(i),u=n(8),l=n(16),p=n(17),d=n(21),h=n(18),m=n(7),f=n(22);function g(){var e=window.location.href+"/qcharm/";return console.log(e),e}function v(e){return{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}}function y(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),console.log("copy :",t),e.next=4,fetch(g()+"copy_new",v(t));case 4:return a=e.sent,e.next=7,a;case 7:return r=Date.now()-n,s=a.json(),document.getElementById("responseTime").innerHTML="Response Time: "+r+"ms",console.log(s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),console.log("paste :",t),e.next=4,fetch(g()+"paste_new",v(t));case 4:return a=e.sent,e.next=7,a;case 7:return r=a.json(),s=Date.now()-n,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",console.log(r),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),console.log("Cut :",t),e.next=4,fetch(g()+"cut_new",v(t));case 4:return a=e.sent,e.next=7,a;case 7:return r=a.json(),s=Date.now()-n,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",console.log(r),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 400===t.status||n(t.trace),e.abrupt("return","");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("search :",t),n=Date.now(),e.next=4,fetch(g()+"search_new",v(t));case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,s=Date.now()-n,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",console.log("Search result"),console.log(r),console.log("Search result"),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("jump :",t),n=Date.now(),e.next=4,fetch(g()+"jump_new",v(t));case 4:return a=e.sent,e.next=7,a;case 7:return r=Date.now()-n,s=a.json(),document.getElementById("responseTime").innerHTML="Response Time: "+r+"ms",console.log(s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(c.a.mark((function e(t){var n,a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getPrevLines :",t),t.lineNumber=t.lineNumber-1,n=Date.now(),e.next=5,fetch(g()+"get_prev_lines_new",v(t));case 5:return a=e.sent,r=Date.now(),s=r-n,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",e.next=11,a.json();case 11:return o=e.sent,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(c.a.mark((function e(t){var n,a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getNextLines :",t),t.lineNumber=t.lineNumber-1,n=Date.now(),e.next=5,fetch(g()+"get_next_lines_new",v(t));case 5:return a=e.sent,r=Date.now(),s=r-n,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",e.next=11,a.json();case 11:return o=e.sent,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(c.a.mark((function e(t,n){var a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("load :",t),a=Date.now(),e.next=4,fetch(g()+"load_file_new",v(t));case 4:return r=e.sent,s=Date.now()-a,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",e.next=9,r.json();case 9:if(null==(o=e.sent).status||200===o.status){e.next=12;break}return e.abrupt("return",j(o,n));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Search Replace :",t),n=Date.now(),e.next=4,fetch(g()+"search_replace_new",v(t));case 4:return a=e.sent,e.next=7,a;case 7:return r=Date.now()-n,s=a.json(),document.getElementById("responseTime").innerHTML="Response Time: "+r+"ms",console.log(s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),e.next=3,fetch(g()+"redo",v(t));case 3:return a=e.sent,e.next=6,a;case 6:return r=Date.now()-n,s=a.json(),document.getElementById("responseTime").innerHTML="Response Time: "+r+"ms",console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),e.next=3,fetch(g()+"undo",v(t));case 3:return a=e.sent,e.next=6,a;case 6:return r=Date.now()-n,s=a.json(),document.getElementById("responseTime").innerHTML="Response Time: "+r+"ms",console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(c.a.mark((function e(t,n){var a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),e.next=3,fetch(g()+"edit_new",v(t));case 3:return r=e.sent,e.next=6,r;case 6:if(s=Date.now()-a,document.getElementById("responseTime").innerHTML="Response Time: "+s+"ms",o=r.json(),null==r.status||200===r.status){e.next=11;break}return e.abrupt("return",j(o,n));case 11:return console.log(o),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(c.a.mark((function e(t,n){var a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),e.next=3,fetch(g()+"save",v(t));case 3:if(r=e.sent,s=Date.now(),o=s-a,document.getElementById("responseTime").innerHTML="Response Time: "+o+"ms",null==r.status||200===r.status){e.next=9;break}return e.abrupt("return",j(r,n));case 9:console.log(r.json());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(c.a.mark((function e(t,n){var a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),e.next=3,fetch(g()+"replace",v(t));case 3:if(r=e.sent,s=Date.now(),o=s-a,document.getElementById("responseTime").innerHTML="Response Time: "+o+"ms",null==r.status||200===r.status){e.next=11;break}return e.abrupt("return",j(r,n));case 11:console.log(r.json());case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(u.a)(c.a.mark((function e(t,n,a){var r,s,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={fileName:t,inputs:n,language:a},s=Date.now(),e.next=4,fetch(g()+"/run_file",v(r));case 4:return o=e.sent,e.next=7,o.json();case 7:return i=e.sent,u=Date.now()-s,document.getElementById("responseTime").innerHTML="Response Time: "+u+"ms",console.log(i),e.abrupt("return",i.output);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=n(79),$=n(75),G=n(78),X=n(49),Z=n(38),ee=n(76),te=n(42),ne=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).uploadFromFile=function(e){document.getElementById("myfile").click()},n.runCode=function(){n.props.state.editHandler.editBackEnd();var e=document.querySelector(".custom-input").value;console.log(e);var t=Object(m.a)(n);(function(e,t,n){return V.apply(this,arguments)})(n.props.state.fileName,e.split("\n"),n.props.state.language).then((function(e){t.props.setResult(e)}))},n.render=function(){return r.a.createElement(Y.a,{style:{background:"rgb(30,31,38)",height:"7vh",borderBottom:"0.2px solid #555"}},r.a.createElement(Y.a.Item,{className:"p-2",style:{color:"#F4F4F4"}},"QCharm"),r.a.createElement(Y.a.Item,{className:"ml-auto p-1"},r.a.createElement($.a,{size:"sm",style:{zIndex:"200"}},r.a.createElement(G.a,{onSubmit:n.handleJumpEvent,className:"p-1"},r.a.createElement(X.a,{id:"jump",placeholder:"Jump","aria-describedby":"basic-addon1",style:{background:"rgb(40,40,40)",height:"4vh",padding:"0px",border:"none",color:"#fff",fontSize:"2vh"}}),r.a.createElement(Z.a,{type:"submit",style:{display:"none"}})))),r.a.createElement(Y.a.Item,{className:"p-1"},r.a.createElement($.a,{id:"findReplace",size:"sm",style:{zIndex:"200"}},r.a.createElement(G.a,{onSubmit:n.findAndReplaceInterface,className:"p-1"},r.a.createElement(X.a,{id:"find",placeholder:"Find","aria-describedby":"basic-addon1",style:{background:"rgb(40,40,40)",height:"4vh",padding:"0px",border:"none",color:"#fff",fontSize:"2vh"}}),r.a.createElement(X.a,{id:"replace",placeholder:"Replace","aria-describedby":"basic-addon1",style:{background:"rgb(40,40,40)",height:"4vh",padding:"0px",border:"none",marginTop:"5px",color:"#fff",fontSize:"2vh",zIndex:"200",display:"none"}}),r.a.createElement(Z.a,{type:"submit",style:{display:"none"}})),r.a.createElement("input",{type:"checkbox",id:"replaceButton",onChange:n.replaceToggle,style:{marginTop:"2vh"}}))),r.a.createElement(Y.a.Item,{className:"p-1",style:{float:"right",padding:"0px",margin:"0px"}},r.a.createElement("input",{type:"file",id:"myfile",name:"myfile",onChange:n.getFileData,hidden:!0}),r.a.createElement(Z.a,{size:"sm",variant:"outline-light",onClick:n.uploadFromFile},"Upload")),r.a.createElement(Y.a.Item,{className:"p-1",style:{float:"right",padding:"0px",margin:"0px"}},r.a.createElement(ee.a,{className:"language",size:"sm",title:n.props.language.toUpperCase(),variant:"outline-light",onSelect:n.props.changeLan},r.a.createElement(te.a.Item,{eventKey:"c"},"C"),r.a.createElement(te.a.Item,{eventKey:"cpp"},"C++"),r.a.createElement(te.a.Item,{eventKey:"java"},"Java"),r.a.createElement(te.a.Item,{eventKey:"python"},"Python"))),r.a.createElement(Y.a.Item,{className:"p-1",style:{float:"right",padding:"0px",margin:"0px"}},r.a.createElement(Z.a,{size:"sm",variant:"success",onClick:n.runCode},"Run")))},n.handleFindEvent=n.handleFindEvent.bind(Object(m.a)(n)),n.handleReplaceEvent=n.handleReplaceEvent.bind(Object(m.a)(n)),n.handleFiles=n.handleFiles.bind(Object(m.a)(n)),n.getFileData=n.getFileData.bind(Object(m.a)(n)),n.jumpToSearchLine=n.jumpToSearchLine.bind(Object(m.a)(n)),n.setCaretLoc=n.setCaretLoc.bind(Object(m.a)(n)),n.replaceToggle=n.replaceToggle.bind(Object(m.a)(n)),n.handleJumpEvent=n.handleJumpEvent.bind(Object(m.a)(n)),n.findAndReplaceInterface=n.findAndReplaceInterface.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getCaretLoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".code-input").value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.querySelector(".code-input").selectionEnd,n=0;e=e.split("\n");for(var a=0;n<e.length&&a+e[n].length+1<t;)a=a+e[n].length+1,n++;return[n,t-a]}},{key:"setCaretLoc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=document.querySelector(".code-input"),r=a.value;r=r.split("\n");for(var s=0,o=0;o<e;)s=s+r[o].length+1,o++;s+=t,a.selectionStart=s,a.selectionEnd=s+n,console.log("row & col",e,t)}},{key:"jumpToSearchLine",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n,a){var r,s,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t[n].lineNo)>a.props.state.startingLineNo+a.props.state.data.split("\n").length||r<a.props.state.startingLineNo)){e.next=9;break}return(s=this.packEditRequest()).lineNumber=r,s.numberOfLines=50,e.next=7,O(s);case 7:o=e.sent,this.applyResponse(o);case 9:i=document.getElementById("find").value.length,this.setCaretLoc(r-a.props.state.startingLineNo,t[n].columnNo,i);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"fillSearchResult",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,this.search(t);case 3:return a=e.sent,e.next=6,a;case 6:console.log("cursors ",a),r={presentIndex:0,listOfCursors:a},this.props.setSearchResult(r),console.log(typeof a),a.length>0&&(n.jumpToSearchLine(a,0,n),document.getSelection().focusNode.parentElement.scrollTop=0);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleFindEvent",value:function(e){var t=document.getElementById("find");this.fillSearchResult(t.value)}},{key:"packEditRequest",value:function(){var e=document.querySelector(".code-input").value,t=this.getCaretLoc(e,document.querySelector(".code-input").selectionStart),n=this.getCaretLoc(e,document.querySelector(".code-input").selectionEnd),a=e;return{cursorStart:{lineNo:t[0],columnNo:t[1]},cursorEnd:{lineNo:n[0],columnNo:n[1]},startingLineNo:this.props.state.startingLineNo,endingLineNo:this.props.state.startingLineNo+this.props.state.length,fileName:this.props.state.fileName,dataNow:a,start:document.querySelector(".code-input").selectionStart,end:document.querySelector(".code-input").selectionEnd}}},{key:"updatePageResponse",value:function(e){var t=e.lines.join("\n");this.props.setData(t,e.lines.length),this.setCaretLoc(e.cursorAt.lineNo,e.cursorAt.columnNo)}},{key:"applyResponse",value:function(e){console.log(e);var t=e.lines.join("\n");this.props.setData(t,e.lines.length),this.props.updateStartingLineNo(e.startingLineNo);var n=e.cursorAt.lineNo-this.props.state.startingLineNo,a=e.cursorAt.columnNo;this.setCaretLoc(n,a)}},{key:"search",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.packEditRequest(),a={pattern:t},r=Object.assign({},n,a),e.next=5,L(r);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchReplace",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.packEditRequest(),r={pattern:t,newPattern:n},s=Object.assign({},a,r),e.next=5,q(s);case 5:o=e.sent,this.applyResponse(o);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleReplaceEvent",value:function(e){var t=document.getElementById("find").value,n=document.getElementById("replace").value;console.log("search pattern = "+t),console.log("replace pattern = "+n),this.searchReplace(t,n),console.log("Replace")}},{key:"findAndReplaceInterface",value:function(e){document.getElementById("replaceButton").checked?this.handleReplaceEvent(e):this.handleFindEvent(e),document.getElementById("find").focus(),e.preventDefault()}},{key:"replaceToggle",value:function(e){document.getElementById("replaceButton").checked?document.getElementById("replace").style.display="initial":document.getElementById("replace").style.display="none"}},{key:"getFileData",value:function(e){var t=new FileReader,n=document.getElementById("myfile").files[0];setTimeout(this.handleFiles(t,n),1e3)}},{key:"handleFiles",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.readAsText(n),t.onloadend=function(e){a=t.result;var s=r.packEditRequest();s.fileName=n.name,s.lineNumber=0,s.dataNow=a,r.props.writeFromFile(s)},e.next=4,this.setCaretLoc(0,0);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleJump",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(document.getElementById("jump").value),(n=this.packEditRequest()).lineNumber=t,n.numberOfLines=50,e.next=6,O(n);case 6:a=e.sent,this.applyResponse(a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleJumpEvent",value:function(e){this.handleJump(),e.preventDefault()}}]),t}(r.a.Component),ae=n(43),re=(n(68),n(77)),se=n(50),oe=n(44),ie=n.n(oe),ce={init:function(e,t,n,a){this.focusInput(e),this.listenForInput(e,a),this.renderOutput(t,a),this.listenerForScroll(e,t)},listenForInput:function(e,t){var n=this;document.querySelector(e).addEventListener("input",(function(e){var a=this.selectionStart,r=this.value;9===e.keyCode&&(this.value=r.substring(0,a)+"    "+r.substring(a,this.value.length),this.selectionStart=a+4,this.selectionEnd=a+4,e.preventDefault()),n.renderOutput(".code-output",t)})),document.querySelector(e).addEventListener("keydown",(function(e){var t=this.selectionStart,a=this.value;9===e.keyCode&&(this.value=a.substring(0,t)+"    "+a.substring(t,this.value.length),this.selectionStart=t+4,this.selectionEnd=t+4,e.preventDefault(),e.stopImmediatePropagation()),n.renderOutput(".code-output",this.value)})),ie.a.highlightAll()},listenerForScroll:function(e,t){document.querySelector(e).addEventListener("scroll",(function(){document.querySelector(t).scrollTop=this.scrollTop}))},renderOutput:function(e,t){document.querySelector("code").innerHTML=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"\n",ie.a.highlightAll()},focusInput:function(e){var t=document.querySelector(e);t.focus(),t.selectionStart=t.value.length,t.selectionEnd=t.value.length}},ue=n(41),le=n.n(ue),pe=(n(69),n(70),n(71),n(72),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).fetchNewLines=!0,e.editInProgress=!1,e.render=function(){return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement(re.a,{style:{height:"calc(100vh - 80px)",margin:"0px",background:"#000",overflow:"auto"}},r.a.createElement(se.a,{sm:"1",id:"row_num",style:{background:"rgba(30,31,37,0.5)",padding:"0px",margin:"0px"}},r.a.createElement("div",{id:"lineNo",style:{width:"100%",textAlign:"center",color:"#f4f4f4",fontSize:"0.8rem"}},r.a.createElement("div",null,"1"))),r.a.createElement(se.a,{sm:"11",style:{padding:"0px",margin:"0px"},spellCheck:"false"},r.a.createElement("textarea",{className:"code-input",onKeyDown:e.handleKeyDown,onCut:e.preventDefaultClipboardEvents,onCopy:e.preventDefaultClipboardEvents,onPaste:e.preventDefaultClipboardEvents,onClick:e.handleMouseClick,defaultValue:e.props.state.data,onScroll:e.handleScroll}),r.a.createElement("pre",{className:"code-output"},r.a.createElement("code",{className:"language-"+e.props.state.language})))),r.a.createElement("div",{style:{color:"#f4f4f4"}},r.a.createElement("span",{id:"responseTime"},"Response Time: 0ms"),r.a.createElement("div",{style:{float:"right"}},r.a.createElement("span",{id:"rowNumber"},"Row: 0"),r.a.createElement("span",null,"    "),r.a.createElement("span",{id:"colNumber"},"Col: 0"))))},e.handleKeyDown=e.handleKeyDown.bind(Object(m.a)(e)),e.handleFindUpDownEsc=e.handleFindUpDownEsc.bind(Object(m.a)(e)),e.jumpToSearchLine=e.jumpToSearchLine.bind(Object(m.a)(e)),e.handleScroll=e.handleScroll.bind(Object(m.a)(e)),e.handleMouseClick=e.handleMouseClick.bind(Object(m.a)(e)),e.preventDefaultClipboardEvents=e.preventDefaultClipboardEvents.bind(Object(m.a)(e)),e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getCaretLoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".code-input").value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.querySelector(".code-input").selectionEnd,n=0;e=e.split("\n");for(var a=0;n<e.length&&a+e[n].length+1<t;)a=a+e[n].length+1,n++;return[n,t-a]}},{key:"setCaretLoc",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=document.querySelector(".code-input"),r=a.value;r=r.split("\n");for(var s=0,o=0;o<e;o++)s=s+r[o].length+1;s+=t,a.selectionStart=s,a.selectionEnd=s+n}},{key:"jumpToSearchLine",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n,a){var r,s,o,i,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[n].lineNo,s=r,o=document.getElementById("find").value.length,(u=this.packEditRequest()).numberOfLines=50,!(r<a.props.state.startingLineNo)){e.next=12;break}return u.lineNumber=r,e.next=9,O(u);case 9:i=e.sent,e.next=23;break;case 12:if(!(r>=a.props.state.startingLineNo+a.props.state.data.split("\n").length)){e.next=19;break}return u.lineNumber=r,e.next=16,O(u);case 16:i=e.sent,e.next=23;break;case 19:return u.lineNumber=this.props.state.startingLineNo,e.next=22,O(u);case 22:i=e.sent;case 23:if(null==i.status||200===i.status){e.next=27;break}j(i,a.props.showErrorMsg),e.next=35;break;case 27:return l=i.lines.join("\n"),e.next=30,a.props.setData(l,i.lines.length);case 30:return e.next=32,a.props.updateStartingLineNo(i.startingLineNo);case 32:s=r-this.props.state.startingLineNo,this.setCaretLoc(s,t[n].columnNo,o),a.props.scrollToRow(s);case 35:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"handleFindUpDownEsc",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this,"Escape"===t.key?(document.getElementById("find").value="",n.props.setSearchResult(null)):(a=n.props.state.searchResult,r=a.listOfCursors,s={ArrowUp:-1,ArrowDown:1},t.key in s&&null!==a&&r.length>0&&(o=((o=a.presentIndex)+s[t.key]+r.length)%r.length,a.presentIndex=o,n.props.setSearchResult(a),n.jumpToSearchLine(r,o,n))),t.preventDefault();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"packEditRequest",value:function(){var e=document.querySelector(".code-input").value,t=this.getCaretLoc(e,document.querySelector(".code-input").selectionStart),n=this.getCaretLoc(e,document.querySelector(".code-input").selectionEnd),a=e;return{cursorStart:{lineNo:t[0],columnNo:t[1]},cursorEnd:{lineNo:n[0],columnNo:n[1]},startingLineNo:this.props.state.startingLineNo,endingLineNo:this.props.state.startingLineNo+this.props.state.length,fileName:this.props.state.fileName,dataNow:a,start:document.querySelector(".code-input").selectionStart,end:document.querySelector(".code-input").selectionEnd}}},{key:"applyResponse",value:function(e){console.log(e);var t=e.lines.join("\n");this.props.setData(t,e.lines.length),this.props.updateStartingLineNo(e.startingLineNo);var n=e.cursorAt.lineNo-this.props.state.startingLineNo,a=e.cursorAt.columnNo;this.setCaretLoc(n,a)}},{key:"redo",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.packEditRequest(),e.next=3,H(t);case 3:n=e.sent,this.applyResponse(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undo",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.packEditRequest(),e.next=3,_(t);case 3:n=e.sent,this.applyResponse(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"copy",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.packEditRequest(),e.next=3,y(t);case 3:return n=e.sent,e.next=6,n;case 6:this.applyResponse(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"paste",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.packEditRequest(),e.next=3,E(t);case 3:return n=e.sent,e.next=6,n;case 6:this.applyResponse(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cut",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.packEditRequest(),e.next=3,k(t);case 3:return n=e.sent,e.next=6,n;case 6:this.applyResponse(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleMouseClick",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchNewLines=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"preventDefaultClipboardEvents",value:function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation()}},{key:"handleKeyDown",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r,s,o,i,u,l,p,d,h,m,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.querySelector(".code-input"),a=n.value.split("\n"),r=this.getCaretLoc(n.value,n.selectionStart),s=Object(ae.a)(r,2),o=s[0],i=s[1],u=this.getCaretLoc(n.value,n.selectionEnd),l=Object(ae.a)(u,2),p=l[0],d=l[1],h={pageId:1,data:a,startRow:o,startCol:i,endRow:p,endCol:d},t.key<255&&this.props.forceEditCall(),null!==this.props.state.searchResult?"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Escape"!==t.key||this.handleFindUpDownEsc(t):"ArrowUp"!==t.key&&"ArrowDown"!==t.key||(this.fetchNewLines=!0),!t.ctrlKey){e.next=45;break}e.t0=t.key,e.next="c"===e.t0?11:"f"===e.t0?13:"j"===e.t0?16:"r"===e.t0?19:"s"===e.t0?22:"v"===e.t0?25:"x"===e.t0?28:"y"===e.t0?30:"z"===e.t0?33:45;break;case 11:return this.copy(),e.abrupt("break",45);case 13:return document.getElementById("find").focus(),t.preventDefault(),e.abrupt("break",45);case 16:return document.getElementById("jump").focus(),t.preventDefault(),e.abrupt("break",45);case 19:return W(h,this.props.showErrorMsg),t.preventDefault(),e.abrupt("break",45);case 22:return U(h,this.props.showErrorMsg),t.preventDefault(),e.abrupt("break",45);case 25:return e.next=27,this.paste();case 27:return e.abrupt("break",45);case 28:return this.cut(),e.abrupt("break",45);case 30:return H(h,this.props.showErrorMsg),t.preventDefault(),e.abrupt("break",45);case 33:return e.next=35,_(this.props.state.fileName);case 35:if(null==(m=e.sent).status||200===m.status){e.next=40;break}return e.abrupt("return",j(m,this.props.showErrorMsg));case 40:f=m.lines.join("\n"),this.props.setData(f,m.lines.length),this.props.updateStartingLineNo(m.startingLineNo);case 43:return t.preventDefault(),e.abrupt("break",45);case 45:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editBackEnd",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.forceEditCall(!1),console.log("calling edit"),t=this.packEditRequest(),e.next=5,z(t,this.props.showErrorMsg);case 5:return n=e.sent,e.next=8,n;case 8:this.applyResponse(n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleScroll",value:function(e){document.querySelector(".code-output").scrollLeft=document.querySelector(".code-input").scrollLeft}},{key:"componentDidMount",value:function(){ce.init(".code-input",".code-output",".language",this.props.state.data);var e=this;setInterval(Object(u.a)(c.a.mark((function t(){var n,a,r,s,o,i,u,l,p,d,h,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=(n=document.querySelector(".code-input").value).split("\n"),a=n.length,document.getElementById("lineNo").innerHTML="",r=e.props.state.startingLineNo;r<e.props.state.startingLineNo+a;r++)document.getElementById("lineNo").innerHTML+="<div id='row"+r+"'>"+r+"</div>";if(s=e.getCaretLoc(),o=Object(ae.a)(s,2),i=o[0],u=o[1],!(e.props.state.data.length>0&&e.fetchNewLines)){t.next=35;break}if(!e.props.state.needsOfflineEdit){t.next=10;break}return t.next=10,e.editBackEnd();case 10:if(e.fetchNewLines=!1,!(Math.abs(i)<5&&0!==e.props.state.startingLineNo)){t.next=21;break}return(l=e.packEditRequest()).lineNumber=e.props.state.startingLineNo,l.numberOfLines=50,t.next=17,T(l);case 17:null!=(p=t.sent).status&&200!==p.status?j(p,e.props.showErrorMsg):0!==p.lines.length&&(e.props.updateStartingLineNo(p.startingLineNo),e.props.updateData(p.lines.join("\n"),!0,p.lines.length)),t.next=35;break;case 21:if(!(e.props.state.data.split("\n").length>0&&Math.abs(e.props.state.data.split("\n").length-i)<5)){t.next=35;break}return console.log("CARET POS = ",e.getCaretLoc()),d=e.props.state.data,h=e.props.state.startingLineNo+d.split("\n").length,(l=e.packEditRequest()).lineNumber=h,l.numberOfLines=50,t.next=30,I(l);case 30:m=t.sent,console.log("==========="),console.log(m),console.log("==========="),null!=m.status&&200!==m.status?j(m,e.props.showErrorMsg):0!==m.lines.length&&(e.props.updateData(m.lines.join("\n"),!1,m.lines.length),e.setCaretLoc(m.cursorAt.lineNo,m.cursorAt.columnNo));case 35:document.getElementById("rowNumber").innerHTML="Row: "+(e.props.state.startingLineNo+i),document.getElementById("colNumber").innerHTML="Col: "+u;case 37:case"end":return t.stop()}}),t)}))),500),setInterval((function(){null===e.props.state.searchResult&&e.props.state.needsOfflineEdit&&(console.log("Interval expired"),e.editInProgress||(e.editInProgress=!0,e.editBackEnd().then((function(){return e.editInProgress=!1}))))}),2e3),this.props.setEditHandler(this)}},{key:"componentDidUpdate",value:function(e){le()(this.props.state,e.state)||this.render(),ce.init(".code-input",".code-output",".language",this.props.state.data)}}]),t}(r.a.Component)),de=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%",background:"#000",margin:"0px"}},r.a.createElement(Y.a,{style:{background:"rgb(30,31,38)",height:"10%",color:"#f4f4f4"}},r.a.createElement(Y.a.Item,null,"Custom Input")),r.a.createElement("textarea",{style:{fontSize:"2vh",height:"90%",width:"100%",background:"#000",border:"0px",color:"#a0a0a0"},className:"custom-input"}))}}]),t}(r.a.Component),he=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%",width:"100%",background:"#000",margin:"0px"}},r.a.createElement(Y.a,{style:{background:"rgb(30,31,38)",height:"10%",color:"#f4f4f4"}},r.a.createElement(Y.a.Item,null,"Output")),r.a.createElement("textarea",{readOnly:!0,style:{height:"90%",width:"100%",background:"#000",border:"0px",color:"#a0a0a0"},value:this.props.state.result}))}}]),t}(r.a.Component),me=n(28),fe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).changeLan=function(t){e.setState({language:t})},e.state={language:"c++",data:"",startingLineNo:0,length:0,fileName:"scratch",searchResult:null,showError:!1,errorMsg:"",needsOfflineEdit:!1,inputs:""},e.changeLan=e.changeLan.bind(Object(m.a)(e)),e.writeFromFile=e.writeFromFile.bind(Object(m.a)(e)),e.updateStartingLineNo=e.updateStartingLineNo.bind(Object(m.a)(e)),e.updateData=e.updateData.bind(Object(m.a)(e)),e.setData=e.setData.bind(Object(m.a)(e)),e.scrollToRow=e.scrollToRow.bind(Object(m.a)(e)),e.setSearchResult=e.setSearchResult.bind(Object(m.a)(e)),e.showErrorMsg=e.showErrorMsg.bind(Object(m.a)(e)),e.hideErrorMsg=e.hideErrorMsg.bind(Object(m.a)(e)),e.setInputs=e.setInputs.bind(Object(m.a)(e)),e.setResult=e.setResult.bind(Object(m.a)(e)),e.forceEditCall=e.forceEditCall.bind(Object(m.a)(e)),e.setEditHandler=e.setEditHandler.bind(Object(m.a)(e)),e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"scrollToRow",value:function(e){var t=document.getSelection().focusNode.parentElement;console.log("scrollToRow"),console.log(e),console.log("scrollToRow"),(t.scrollTop>25*e*window.devicePixelRatio||t.scrollTop+t.scrollHeight<=25*e*window.devicePixelRatio)&&(t.scrollTop=25*e*window.devicePixelRatio)}},{key:"updateLanguage",value:function(e){console.log(e),console.log("Startingline number = "+e.startingLineNo);var t=e.fileName.split("."),n=t[t.length-1],a={cpp:"C++",py:"Python",java:"Java",c:"C"},r=n;n in a&&(r=a[n]),this.setState({language:r}),this.setState({startingLineNo:parseInt(e.startingLineNo)}),this.setState({fileName:e.fileName}),console.log("done updating language")}},{key:"writeFromFile",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Starting writeFromFile"),e.next=3,M(t,this.showErrorMsg);case 3:if(null==(n=e.sent).status||200===n.status){e.next=6;break}return e.abrupt("return",j(n,this.showErrorMsg()));case 6:console.log(n),this.updateLanguage(n),a=n.lines.join("\n"),this.setState({data:a}),this.setState({length:n.lines.length}),console.log("done writeFromFile");case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStartingLineNo",value:function(e){this.setState({startingLineNo:e})}},{key:"setSearchResult",value:function(e){this.setState({searchResult:e})}},{key:"setData",value:function(e,t){this.setState({data:e}),this.setState({length:t})}},{key:"updateData",value:function(e,t,n){var a="";a=t?e+"\n"+this.state.data:this.state.data+"\n"+e,this.setState({data:a}),this.setState({length:this.state.length+n})}},{key:"componentDidUpdate",value:function(e){le()(this.state,e.state)||this.render()}},{key:"hideErrorMsg",value:function(){this.setState({showError:!1})}},{key:"showErrorMsg",value:function(e){this.setState({showError:!0}),this.setState({errorMsg:e})}},{key:"forceEditCall",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({needsOfflineEdit:e})}},{key:"setInputs",value:function(e){this.setState({inputs:e})}},{key:"setResult",value:function(e){this.setState({result:e})}},{key:"setEditHandler",value:function(e){this.setState({editHandler:e})}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(me.a,{show:this.state.showError},r.a.createElement(me.a.Header,null,r.a.createElement(me.a.Title,null,"Error occured while calling the backend")),r.a.createElement(me.a.Body,null,r.a.createElement("div",{className:"error-body"},this.state.errorMsg)),r.a.createElement(me.a.Footer,null,r.a.createElement(Z.a,{variant:"secondary",onClick:this.hideErrorMsg},"Close"))),r.a.createElement(ne,{language:this.state.language,changeLan:this.changeLan,writeFromFile:this.writeFromFile,state:this.state,setData:this.setData,updateStartingLineNo:this.updateStartingLineNo,setSearchResult:this.setSearchResult,scrollToRow:this.scrollToRow,setResult:this.setResult,showErrorMsg:this.showErrorMsg}),r.a.createElement(re.a,{style:{height:"93vh",margin:"0px",background:"rgb(30,31,37)",overflowY:"hidden"}},r.a.createElement(se.a,{sm:"6",style:{margin:"0px",padding:"0px"}},r.a.createElement("div",{style:{height:"100%",width:"100%",padding:"7px 7px 7px 7px"}},r.a.createElement(pe,{state:this.state,updateStartingLineNo:this.updateStartingLineNo,updateData:this.updateData,setData:this.setData,setSearchResult:this.setSearchResult,scrollToRow:this.scrollToRow,showErrorMsg:this.showErrorMsg,hideErrorMsg:this.hideErrorMsg,forceEditCall:this.forceEditCall,setEditHandler:this.setEditHandler}))),r.a.createElement(se.a,{sm:"6",style:{margin:"0px",padding:"0px"}},r.a.createElement(re.a,{style:{height:"46.5vh",margin:"0px"}},r.a.createElement("div",{style:{height:"100%",width:"100%",padding:"0px 7px 0px 7px"}},r.a.createElement(de,{state:this.state,setInputs:this.setInputs}))),r.a.createElement(re.a,{style:{height:"46.5vh",margin:"0px"}},r.a.createElement("div",{style:{height:"100%",width:"100%",padding:"0px 7px 7px 7px"}},r.a.createElement(he,{state:this.state}))))))}}]),t}(r.a.Component);var ge=function(){return r.a.createElement(fe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.3554dc01.chunk.js.map